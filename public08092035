<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Ranking</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    table { width: 100%; }
  </style>
</head>
<body>

<h2>Ranking</h2>
<p>ç®¡ç†Noæ¤œç´¢</p>

<table id="ranking-table" class="display">
  <thead>
    <tr>
      <th>é †ä½</th>
      <th>ç®¡ç†No</th>
      <th>åˆè¨ˆã‚¹ã‚³ã‚¢</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
$(document).ready(function () {
  Papa.parse('ranking.csv', {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function (results) {
      const table = $('#ranking-table').DataTable({
        data: results.data.filter(row => row["é †ä½"] && row["ç®¡ç†No"] && row["åˆè¨ˆã‚¹ã‚³ã‚¢"]),
        columns: [
          { data: "é †ä½" },
          { data: "ç®¡ç†No" },
          { data: "åˆè¨ˆã‚¹ã‚³ã‚¢" }
        ],
        language: {
          url: "https://cdn.datatables.net/plug-ins/1.13.4/i18n/ja.json"
        },
        pageLength: 25
      });

      // ğŸ”§ æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã®å…¥åŠ›ã‚’åŠè§’è‹±æ•°å­—ã«å¤‰æ›
      $('#ranking-table_filter input').on('input', function () {
        const converted = this.value.replace(/[ï¼¡-ï¼ºï½-ï½šï¼-ï¼™]/g, function (s) {
          return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);
        });
        if (this.value !== converted) {
          this.value = converted;
          table.search(converted).draw(); // å†æ¤œç´¢
        }
      });
    }
  });
});
</script>

</body>
</html>
